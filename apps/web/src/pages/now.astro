---
import PageLayout from "@layouts/PageLayout.astro";
import TerminalWindow from "@components/ui/TerminalWindow.astro";
import TerminalBreadcrumb from "@components/ui/TerminalBreadcrumb.astro";
import { SITE } from "@lib/constants";

import BlurReveal from "@components/islands/BlurReveal";
---

<PageLayout title="Now" description="What I'm working on right now — current projects, research, and focus areas.">
  <section class="py-12 max-w-3xl">
    <TerminalBreadcrumb segments={[{ label: "now" }]} />
    <BlurReveal
      client:idle
      text="Now"
      className="text-3xl font-heading font-medium text-text-primary mb-2 tracking-tight"
      as="h1"
    />
    <p
      class="text-sm font-mono text-text-muted mb-10"
      style="opacity: 0; animation: fade-up 0.5s ease-out 0.25s forwards;"
    >
      Last updated: February 2026 · Mumbai, India
    </p>

    <!-- Research -->
    <TerminalWindow title="research" status="active" class="mb-6">
      <div class="space-y-1.5">
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">1</span>
          <span class="text-[#34D399]">$</span>
          <span class="ml-2 text-text-secondary">cat research.log</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">2</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">3</span>
          <span class="text-text-secondary">
            Running <a href="/projects/spektron" class="text-[#C9A04A] hover:underline">Spektron</a> experiments — benchmarking 5 architectures
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">4</span>
          <span class="text-text-secondary">
            (D-LinOSS, Mamba, Transformer, CNN, S4D) on IR/Raman spectral tasks.
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">5</span>
          <span class="text-text-secondary">
            Includes cross-spectral prediction (IR→Raman) and transfer function
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">6</span>
          <span class="text-text-secondary">
            interpretability on 2x RTX 5060 Ti. Writing up for
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">7</span>
          <span class="text-text-secondary">
            <a href="/research/hybrid-ssa-spectroscopy" class="text-[#A78BFA] hover:underline">Digital Discovery (RSC)</a>.
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">8</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">9</span>
          <span class="text-text-secondary">
            Finalizing the <a href="/research/spectral-identifiability" class="text-[#A78BFA] hover:underline">spectral identifiability</a> paper — formal proofs that
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">10</span>
          <span class="text-text-secondary">
            combined IR + Raman uniquely determines molecular structure for 99.9%
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">11</span>
          <span class="text-text-secondary">of organic molecules.</span>
        </div>
      </div>
    </TerminalWindow>

    <!-- Building -->
    <TerminalWindow title="building" status="3 projects" class="mb-6">
      <div class="space-y-1.5">
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">1</span>
          <span class="text-[#4ECDC4]">$</span>
          <span class="ml-2 text-text-secondary">ls -la ~/projects/</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">2</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">3</span>
          <span class="text-text-secondary">
            <a href="/projects/spectrakit" class="text-[#C9A04A] hover:underline">SpectraKit</a>
            <span class="text-text-muted"> — stable at v1.8.0, 699 tests passing. Exploring wavenumber-aware Whittaker smoothing for the next release.</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">4</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">5</span>
          <span class="text-text-secondary">
            <a href="/projects/reactor-twin" class="text-[#4ECDC4] hover:underline">ReactorTwin</a>
            <span class="text-text-muted"> — hybrid neural ODE digital twin for chemical reactors. Building the online adaptation loop.</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">6</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">7</span>
          <span class="text-text-secondary">
            <a href="/simulations/vibescope" class="text-[#A78BFA] hover:underline">VibeScope</a>
            <span class="text-text-muted"> — 3D molecular vibration visualizer. Next.js + React Three Fiber + QM9S data.</span>
          </span>
        </div>
      </div>
    </TerminalWindow>

    <!-- Learning -->
    <TerminalWindow title="learning" class="mb-6">
      <div class="space-y-1.5">
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">1</span>
          <span class="text-[#60A5FA]">$</span>
          <span class="ml-2 text-text-secondary">tail -f ~/notes/learning.md</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">2</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">3</span>
          <span class="text-text-secondary">
            <span class="text-[#34D399]">*</span>
            <span class="ml-2">State space models — D-LinOSS, Mamba-2, and how selective state spaces handle sharp spectral features differently from attention.</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">4</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">5</span>
          <span class="text-text-secondary">
            <span class="text-[#C9A04A]">*</span>
            <span class="ml-2">Optimal transport for domain adaptation — Sinkhorn divergences for calibration transfer between spectrometers.</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">6</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">7</span>
          <span class="text-text-secondary">
            <span class="text-[#A78BFA]">*</span>
            <span class="ml-2">Conformal prediction — uncertainty quantification for spectral retrieval without distributional assumptions.</span>
          </span>
        </div>
      </div>
    </TerminalWindow>

    <!-- Reading -->
    <TerminalWindow title="reading" status="2026" class="mb-8">
      <div class="space-y-1.5">
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">1</span>
          <span class="text-[#FF6B6B]">$</span>
          <span class="ml-2 text-text-secondary">cat reading-list.txt</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">2</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">3</span>
          <span class="text-text-secondary">
            <span class="text-text-muted">Gu & Dao (2024)</span>
            <span class="mx-2 text-[#333]">—</span>
            <span class="text-[#4ECDC4]">Mamba: Linear-Time Sequence Modeling with Selective State Spaces</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">4</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">5</span>
          <span class="text-text-secondary">
            <span class="text-text-muted">Peyre & Cuturi (2019)</span>
            <span class="mx-2 text-[#333]">—</span>
            <span class="text-[#C9A04A]">Computational Optimal Transport</span>
          </span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">6</span>
          <span class="text-text-secondary">&nbsp;</span>
        </div>
        <div class="flex">
          <span class="w-6 text-right mr-3 select-none flex-shrink-0 text-[#333]">7</span>
          <span class="text-text-secondary">
            <span class="text-text-muted">Angelopoulos & Bates (2023)</span>
            <span class="mx-2 text-[#333]">—</span>
            <span class="text-[#A78BFA]">Conformal Prediction: A Gentle Introduction</span>
          </span>
        </div>
      </div>
    </TerminalWindow>

    <!-- Attribution -->
    <p
      class="text-sm font-mono text-text-muted"
      style="opacity: 0; animation: fade-up 0.5s ease-out 0.4s forwards;"
    >
      This is a <a href="https://nownownow.com/about" target="_blank" rel="noopener noreferrer" class="text-text-secondary hover:underline">/now page</a>. If you have your own site, consider making one too.
    </p>
  </section>
</PageLayout>
